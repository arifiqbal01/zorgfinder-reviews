(()=>{"use strict";var e,r={710:()=>{const e=window.wp.blocks,r=window.wp.element,i=window.wp.components,n=window.wp.i18n,o=window.ReactJSXRuntime;(0,e.registerBlockType)("zorgfinder/reviews",{title:(0,n.__)("ZorgFinder Reviews","zorgfinder"),edit:()=>{const[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(""),[d,l]=(0,r.useState)(5),[v,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{fetch(`${wpApiSettings.root}zorg/v1/reviews?provider_id=1`).then(e=>e.json()).then(e=>t(e.data?.reviews||[]))},[]),(0,o.jsxs)("div",{className:"zorgfinder-reviews",children:[(0,o.jsx)("h3",{children:(0,n.__)("Reviews","zorgfinder")}),e.length?e.map(e=>(0,o.jsxs)("p",{children:[(0,o.jsxs)("strong",{children:["⭐ ",e.rating]})," – ",e.comment]},e.id)):(0,o.jsx)("p",{children:(0,n.__)("No reviews yet.","zorgfinder")}),(0,o.jsx)("h4",{children:(0,n.__)("Leave a review","zorgfinder")}),(0,o.jsx)(i.TextareaControl,{label:(0,n.__)("Your Comment","zorgfinder"),value:s,onChange:e=>a(e)}),(0,o.jsx)(i.Button,{isPrimary:!0,onClick:async()=>{c(!0),await fetch(`${wpApiSettings.root}zorg/v1/reviews`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":wpApiSettings.nonce},body:JSON.stringify({provider_id:1,rating:d,comment:s})}),c(!1),a(""),alert((0,n.__)("Review submitted (pending approval)","zorgfinder"))},disabled:v,children:v?(0,n.__)("Submitting...","zorgfinder"):(0,n.__)("Submit Review","zorgfinder")})]})},save:()=>null})}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var t=i[e]={exports:{}};return r[e](t,t.exports,n),t.exports}n.m=r,e=[],n.O=(r,i,o,t)=>{if(!i){var s=1/0;for(v=0;v<e.length;v++){for(var[i,o,t]=e[v],a=!0,d=0;d<i.length;d++)(!1&t||s>=t)&&Object.keys(n.O).every(e=>n.O[e](i[d]))?i.splice(d--,1):(a=!1,t<s&&(s=t));if(a){e.splice(v--,1);var l=o();void 0!==l&&(r=l)}}return r}t=t||0;for(var v=e.length;v>0&&e[v-1][2]>t;v--)e[v]=e[v-1];e[v]=[i,o,t]},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};n.O.j=r=>0===e[r];var r=(r,i)=>{var o,t,[s,a,d]=i,l=0;if(s.some(r=>0!==e[r])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(d)var v=d(n)}for(r&&r(i);l<s.length;l++)t=s[l],n.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return n.O(v)},i=globalThis.webpackChunkzorgfinder_reviews_blocks=globalThis.webpackChunkzorgfinder_reviews_blocks||[];i.forEach(r.bind(null,0)),i.push=r.bind(null,i.push.bind(i))})();var o=n.O(void 0,[350],()=>n(710));o=n.O(o)})();